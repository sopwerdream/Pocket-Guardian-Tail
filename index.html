<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pocket Guardian Tail</title>


  <style>
    html, body { height:100%; margin:0; }
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans Thai", sans-serif;
      overflow:hidden;
      background:#000;
    }

    /* ===== Background slideshow ===== */
    .bg{
      position:fixed;
      inset:0;
      background:#000;
      background-size:cover;
      background-position:center;
      transform:scale(1.02);
      filter:saturate(1.05) contrast(1.05);
      opacity:0;
      transition:opacity 700ms ease;
    }
    .bg.show{ opacity:1; }

    .overlay{
      position:fixed;
      inset:0;
      background:linear-gradient(90deg,
        rgba(0,0,0,.55) 0%,
        rgba(0,0,0,.35) 35%,
        rgba(0,0,0,.10) 65%,
        rgba(0,0,0,.00) 100%);
      pointer-events:none;
    }

    /* ===== Language toggle (top-right) ===== */
    .lang{
      position:fixed;
      top:22px;
      right:22px;
      display:flex;
      gap:8px;
      z-index:10;
    }
    .lang button{
      border:1px solid rgba(255,255,255,.25);
      background:rgba(0,0,0,.35);
      color:#fff;
      padding:6px 12px;
      border-radius:8px;
      font-weight:800;
      cursor:pointer;
      backdrop-filter:blur(10px);
      opacity:.75;
    }
    .lang button.active{
      opacity:1;
      background:#e08a2e;
      border-color:#e08a2e;
    }

    /* ===== Left text block ===== */
    .content{
      position:fixed;
      left:60px;
      bottom:120px;
      max-width:560px;
      color:#fff;
      z-index:10;
    }
    .content h1{
      margin:0 0 12px 0;
      font-size: clamp(40px, 5vw, 64px);
      line-height:1.05;
      font-weight:900;
    }
    .content p{
      margin:0 0 14px 0;
      font-size:18px;
      opacity:.9;
    }
    .meta{
      font-size:13px;
      letter-spacing:.12em;
      opacity:.75;
    }

    .fade{
      transition:opacity .25s ease, transform .25s ease;
    }
    .fade.out{
      opacity:0;
      transform:translateY(6px);
    }

    /* ===== Bottom buttons ===== */
    .btn{
      border:1px solid rgba(255,255,255,.25);
      background:rgba(0,0,0,.35);
      color:#fff;
      padding:10px 14px;
      border-radius:10px;
      font-weight:900;
      cursor:pointer;
      letter-spacing:.2px;
      backdrop-filter:blur(10px);
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn:hover{ background:rgba(0,0,0,.52); }

    .infoBtnWrap{
      position:fixed;
      left:22px;
      bottom:22px;
      z-index:10;
    }

    .next{
      position:fixed;
      right:28px;
      bottom:28px;
      z-index:10;
    }
    .next button{
      border:1px solid rgba(255,255,255,.25);
      background:#e08a2e;
      color:#fff;
      padding:12px 20px;
      border-radius:10px;
      font-weight:900;
      cursor:pointer;
      letter-spacing:.2px;
    }

    /* ===== Info Panel (collapsible) ===== */
    .scrim{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.42);
      opacity:0;
      pointer-events:none;
      transition:opacity .2s ease;
      z-index:20;
    }
    .panel{
      position:fixed;
      left:18px;
      bottom:18px;
      top:18px;
      width:min(460px, calc(100vw - 36px));
      border-radius:16px;
      border:1px solid rgba(255,255,255,.20);
      background:rgba(0,0,0,.45);
      backdrop-filter:blur(14px);
      box-shadow:0 30px 80px rgba(0,0,0,.45);
      transform:translateX(-115%);
      transition:transform .25s ease;
      z-index:30;
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .panelHeader{
      padding:14px;
      border-bottom:1px solid rgba(255,255,255,.14);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .panelHeader b{ font-size:14px; }
    .panelHeader span{
      display:block;
      font-size:12px;
      color:rgba(255,255,255,.75);
      margin-top:2px;
      max-width: 320px;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    .panelBody{
      padding:14px;
      overflow:auto;
      color:rgba(255,255,255,.85);
      animation:none;
    }
    .panelBody h3{
      margin:0 0 8px 0;
      font-size:13px;
      letter-spacing:.02em;
    }
    .panelBody p{
      margin:0 0 12px 0;
      font-size:13px;
      line-height:1.6;
      color:rgba(255,255,255,.78);
      white-space:pre-line;
    }
    .chips{ display:flex; flex-wrap:wrap; gap:8px; margin: 6px 0 12px; }
    .chip{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.08);
      font-size:12px;
      color:rgba(255,255,255,.82);
    }

    body.panelOpen .scrim{ opacity:1; pointer-events:auto; }
    body.panelOpen .panel{ transform:translateX(0); }
    body.panelOpen .panelBody{ animation: fadeIn .18s ease; }
    @keyframes fadeIn{
      from{ opacity:0; transform:translateY(6px); }
      to{ opacity:1; transform:translateY(0); }
    }

    @media (max-width: 900px){
      .content{ left:24px; bottom:100px; }
    }
  </style>
</head>

<body>
  <div id="bg" class="bg"></div>
  <div class="overlay"></div>

  <!-- Language -->
  <div class="lang">
    <button id="btnEN" class="active" type="button">ENGLISH</button>
    <button id="btnTH" type="button">ไทย</button>
  </div>

  <!-- Left text -->
  <div class="content fade" id="textBlock">
    <h1 id="title">Pocket Guardian Tail</h1>
    <p id="desc">Where cute heroes fight real battles.</p>
    <div class="meta" id="meta">PC • TACTICAL RPG • SKYKICK STUDIO</div>
  </div>

  <!-- Info toggle button (bottom-left) -->
  <div class="infoBtnWrap">
    <button class="btn" id="infoBtn" type="button">ℹ️ INFO</button>
  </div>

  <!-- Next -->
  <div class="next">
    <button id="nextBtn" type="button">NEXT →</button>
  </div>

  <!-- Info Panel -->
  <div class="scrim" id="scrim" aria-hidden="true"></div>
  <aside class="panel" id="panel" aria-hidden="true">
    <div class="panelHeader">
      <div>
        <b id="panelTitle">Pocket Guardian Tail — Info</b>
        <span id="panelSub">Slide 1 • Cover</span>
      </div>
      <button class="btn" id="closeBtn" type="button" aria-label="Close">✕</button>
    </div>

    <div class="panelBody">
      <div class="chips">
        <span class="chip" id="chipGenre">Genre: Action / Adventure</span>
        <span class="chip" id="chipPlatform">Platform: PC / Console (Demo)</span>
        <span class="chip" id="chipCount">Cover Set: …</span>
      </div>

      <h3 id="hConcept">Concept</h3>
      <p id="pConcept">
Survive the Pocket World, build power & allies, and fight your way back home.
      </p>

      <h3 id="hLoop">Core Loop</h3>
      <p id="pLoop">Explore → Engage → Battle → Recover → Grow</p>

      <h3 id="hGoal">Pitch Goal</h3>
      <p id="pGoal">Show feasibility of Demo + key systems + visual mood</p>
    </div>
  </aside>

  <script>
    /* ===== CONFIG ===== */
    const OWNER  = "sopwerdream";
    const REPO   = "Pocket-Guardian-Tail";
    const BRANCH = "main";
    const FOLDER = "assets/cover 01_First page cover image";
    const NEXT_PAGE = "slide2.html";
    const INTERVAL = 3500;

    /* ===== COPY ===== */
    const COPY = {
      en:{
        title:"Pocket Guardian Tail",
        desc:"Where cute heroes fight real battles.",
        meta:"PC • TACTICAL RPG • SKYKICK STUDIO",
        panelTitle:"Pocket Guardian Tail — Info",
        panelConcept:`Survive the Pocket World, build power & allies, and fight your way back home.`,
        hConcept:"Concept",
        hLoop:"Core Loop",
        hGoal:"Pitch Goal",
        loop:"Explore → Engage → Battle → Recover → Grow",
        goal:"Show feasibility of Demo + key systems + visual mood",
        chipGenre:"Genre: Action / Adventure",
        chipPlatform:"Platform: PC / Console (Demo)"
      },
      th:{
        title:"Pocket Guardian Tail",
        desc:"โลกเล็กแสนอบอุ่น ที่การต่อสู้มีความหมาย",
        meta:"PC • เกมวางแผนเชิงกลยุทธ์ • SKYKICK STUDIO",
        panelTitle:"Pocket Guardian Tail — ข้อมูล",
        panelConcept:`เมื่อเอเลี่ยนบุกโลกและจับผู้คนไป ตัวละครถูกดึงเข้าสู่ “Pocket World” — มิติทางผ่านที่เชื่อมโลกมนุษย์กับเทคโนโลยีของเอเลี่ยน เป้าหมายคือเอาตัวรอด สร้างพลัง และหาทางกลับโลกให้ได้`,
        hConcept:"แนวคิด",
        hLoop:"วงจรการเล่นหลัก",
        hGoal:"เป้าหมายการนำเสนอ",
        loop:"สำรวจ → เผชิญหน้า → ต่อสู้ → ฟื้นฟู → เติบโต",
        goal:"โชว์ความเป็นไปได้ของ Demo + ระบบหลัก + อารมณ์ภาพรวม",
        chipGenre:"แนวเกม: แอคชัน / ผจญภัย",
        chipPlatform:"แพลตฟอร์ม: PC / Console (Demo)"
      }
    };

    /* ===== ELEMENTS ===== */
    const bg = document.getElementById("bg");
    const btnEN = document.getElementById("btnEN");
    const btnTH = document.getElementById("btnTH");

    const textBlock = document.getElementById("textBlock");
    const title = document.getElementById("title");
    const desc = document.getElementById("desc");
    const meta = document.getElementById("meta");

    const nextBtn = document.getElementById("nextBtn");

    // panel elements
    const infoBtn = document.getElementById("infoBtn");
    const closeBtn = document.getElementById("closeBtn");
    const scrim = document.getElementById("scrim");
    const panelSub = document.getElementById("panelSub");
    const chipCount = document.getElementById("chipCount");

    const panelTitle = document.getElementById("panelTitle");
    const hConcept = document.getElementById("hConcept");
    const pConcept = document.getElementById("pConcept");
    const hLoop = document.getElementById("hLoop");
    const pLoop = document.getElementById("pLoop");
    const hGoal = document.getElementById("hGoal");
    const pGoal = document.getElementById("pGoal");
    const chipGenre = document.getElementById("chipGenre");
    const chipPlatform = document.getElementById("chipPlatform");

    function isImage(n){ return /\.(png|jpg|jpeg|webp|gif)$/i.test(n); }

    async function fetchImages(){
      const api = `https://api.github.com/repos/${OWNER}/${REPO}/contents/${encodeURIComponent(FOLDER)}?ref=${BRANCH}`;
      const res = await fetch(api);
      if(!res.ok) throw new Error(`Folder load failed (${res.status})`);
      const data = await res.json();
      return data.filter(i=>i.type==="file" && isImage(i.name))
                 .sort((a,b)=>a.name.localeCompare(b.name, undefined, {numeric:true}))
                 .map(i=>({name:i.name,url:i.download_url}));
    }

    function setBg(url, label){
      bg.classList.remove("show");
      setTimeout(()=>{
        bg.style.backgroundImage = `url('${url}')`;
        bg.classList.add("show");
        panelSub.textContent = `Slide 1 • ${label}`;
      },40);
    }

    function goNext(){
      location.href = NEXT_PAGE; // ✅ Next = เปลี่ยนหน้าเท่านั้น
    }

    function openPanel(){ document.body.classList.add("panelOpen"); }
    function closePanel(){ document.body.classList.remove("panelOpen"); }
    function togglePanel(){
      document.body.classList.contains("panelOpen") ? closePanel() : openPanel();
    }

    function setLang(lang){
      // fade text only
      textBlock.classList.add("out");
      setTimeout(()=>{
        title.textContent = COPY[lang].title;
        desc.textContent  = COPY[lang].desc;
        meta.textContent  = COPY[lang].meta;

        panelTitle.textContent = COPY[lang].panelTitle;
        hConcept.textContent = COPY[lang].hConcept;
        pConcept.textContent = COPY[lang].panelConcept;
        hLoop.textContent = COPY[lang].hLoop;
        pLoop.textContent = COPY[lang].loop;
        hGoal.textContent = COPY[lang].hGoal;
        pGoal.textContent = COPY[lang].goal;
        chipGenre.textContent = COPY[lang].chipGenre;
        chipPlatform.textContent = COPY[lang].chipPlatform;

        btnEN.classList.toggle("active", lang==="en");
        btnTH.classList.toggle("active", lang==="th");
        textBlock.classList.remove("out");
      },150);
    }

    // events
    nextBtn.onclick = goNext;
    btnEN.onclick = ()=>setLang("en");
    btnTH.onclick = ()=>setLang("th");

    infoBtn.onclick = togglePanel;
    closeBtn.onclick = closePanel;
    scrim.onclick = closePanel;

    window.addEventListener("keydown", (e)=>{
      if(e.key==="ArrowRight") goNext();
      if(e.key==="i" || e.key==="I") togglePanel();
      if(e.key==="Escape") closePanel();
    });

    // init
async function fetchImages(){
  // ✅ encode แบบไม่ทำลาย "/" (อย่าใช้ encodeURIComponent ทั้งก้อน)
  const safePath = encodeURI(FOLDER).replace(/#/g, "%23");
  const api = `https://api.github.com/repos/${OWNER}/${REPO}/contents/${safePath}?ref=${BRANCH}`;

  const res = await fetch(api);

  // ✅ กัน 403 (rate limit) → fallback เป็น raw list แบบไม่เรียก API
  if (res.status === 403) {
    const base = `https://raw.githubusercontent.com/${OWNER}/${REPO}/${BRANCH}/${encodeURI(FOLDER)}/`;
    return [
      { name: "First page cover image01.png", url: base + encodeURIComponent("First page cover image01.png").replace(/%2F/g,"/") },
      { name: "First page cover image02.png", url: base + encodeURIComponent("First page cover image02.png").replace(/%2F/g,"/") },
      { name: "First page cover image03.png", url: base + encodeURIComponent("First page cover image03.png").replace(/%2F/g,"/") },
      { name: "Key visual for action scenes..png", url: base + encodeURIComponent("Key visual for action scenes..png").replace(/%2F/g,"/") },
    ];
  }

  if(!res.ok) throw new Error(`Folder load failed (${res.status})`);

  const data = await res.json();
  return data
    .filter(i => i.type === "file" && isImage(i.name))
    .sort((a,b)=>a.name.localeCompare(b.name, undefined, {numeric:true}))
    .map(i => ({ name:i.name, url:i.download_url }));
}

  </script>
</body>
</html>
